@page "/register"
@inject HttpClient Http
@inject NavigationManager NavigationManager;
@inject IUtilizadorDAO utilizadores;
@using DataLayer

<PageTitle>BelasArtes</PageTitle>



<div style="width: 100%; height: 100%; position: absolute; background: white"></div>

<!-- Cabecalho -->
<img style="width: 5; height: 14%; left: 0%; top: 0.5%; position: absolute" src="logo.png" />
<div style="width: 10%; height: 10%; left: 89%; top: 5%; position: absolute; text-align: center; color: black; font-size: 175%; font-family: Inter; font-weight: 100; word-wrap: break-word">Contactos</div>

<button onclick="window.location.href='/'">
<div style="width: 10%; height: 10%; left: 80%; top: 5%; position: absolute; text-align: center; color: black; font-size: 175%; font-family: Inter; font-weight: 100; word-wrap: break-word">Home</div>
</button>

<div style="width: 0%; height: 8%; left: 88.7%; top: 3.5%; position: absolute; border: 1px black solid"></div>
<div style="width: 30%; height: 20%; left: 1.5%; top: 4%; position: absolute; text-align: center; color: black; font-size: 200%; font-family: Inter; font-weight: 500; word-wrap: break-word">Leilões Belas Artes</div>


<!--Caixa Preta-->
<div style="width: 100%; height: 200%; left: 0%; top: 15%; position: absolute; background: rgba(64, 64, 64, 0.72)"></div>
<div style="width: 75%; height: 100%; left: 12.5%; top: 28%; position: absolute; background: #1E1E1E; border-radius: 73px"></div>
<div style="width: 75%; height: 128%; left: 12.5%; top: 65%; position: absolute; background: white; border-top-left-radius: 59px; border-top-right-radius: 59px; border-bottom-left-radius: 59px; border-bottom-right-radius: 59px"></div>
<div style="width: 30%; height: 20%; left: 42.5%; top: 32.5%; position: absolute; color: white; font-size: 40px; font-family: Inter; font-weight: 600; word-wrap: break-word">Bem-vindo</div>
<div style="width: 60%; height: 10%; left: 20%; top: 42.5%; position: absolute; text-align: center; color: white; font-size: 40px; font-family: Inter; font-weight: 167; word-wrap: break-word">
    Marketplace digital, onde pode ver as diferentes obras disponíveis e as últimas novidades.</div>


<!--Caixa Branca-->
<input type="text" @bind="Nome" style="width: 66%; height: 10%; left: 16.5%; top: 77.5%; position: absolute; background: #D9D9D9; font-size: 20px; font-family: Inter; border: 4px black solid">
<div style="width: 30%; height: 10%; left: 16.5%; top: 71%; position: absolute; color: black; font-size: 30px; font-family: Inter; font-weight: 167; word-wrap: break-word">Nome:</div>

<input type="text" @bind="Email"  style="width: 30%; height: 10%; left: 16.5%; top: 97.5%; position: absolute; background: #D9D9D9; font-size: 20px; font-family: Inter; border: 4px black solid">
<div style="width: 30%; height: 10%; left: 16.5%; top: 91%; position: absolute; color: black; font-size: 30px; font-family: Inter; font-weight: 167; word-wrap: break-word">Email:</div>

<input type="text" @bind="PalavraPasse" style="width: 30%; height: 10%; left: 52.5%; top: 97.5%; position: absolute; background: #D9D9D9; font-size: 20px; font-family: Inter; border: 4px black solid">
<div style="width: 30%; height: 10%; left: 52.5%; top: 91%; position: absolute; color: black; font-size: 30px; font-family: Inter; font-weight: 167; word-wrap: break-word">Senha:</div>

<input type="text" @bind="PaisResidencia" style="width: 30%; height: 10%; left: 16.5%; top: 117.5%; position: absolute; background: #D9D9D9; font-size: 20px; font-family: Inter; border: 4px black solid">
<div style="width: 30%; height: 10%; left: 16.5%; top: 111%; position: absolute; color: black; font-size: 30px; font-family: Inter; font-weight: 167; word-wrap: break-word">País:</div>

<input type="text" @bind="Telefone" style="width: 12.5%; height: 10%; left: 52.5%; top: 117.5%; position: absolute; background: #D9D9D9; font-size: 20px; font-family: Inter; border: 4px black solid">
<div style="width: 30%; height: 10%; left: 52.5%; top: 111%; position: absolute; color: black; font-size: 30px; font-family: Inter; font-weight: 167; word-wrap: break-word">Telemóvel:</div>

<input type="text" @bind="NIG" style="width: 12.5%; height: 10%; left: 70%; top: 117.5%; position: absolute; background: #D9D9D9; font-size: 20px; font-family: Inter; border: 4px black solid">
<div style="width: 30%; height: 10%; left: 70%; top: 111%; position: absolute; color: black; font-size: 30px; font-family: Inter; font-weight: 167; word-wrap: break-word">NIG:</div>

<input type="text" @bind="IBAN" style="width: 12.5%; height: 10%; left: 16.5%; top: 137.5%; position: absolute; background: #D9D9D9; font-size: 20px; font-family: Inter; border: 4px black solid">
<div style="width: 30%; height: 10%; left: 16.5%; top: 131%; position: absolute; color: black; font-size: 30px; font-family: Inter; font-weight: 167; word-wrap: break-word">IBAN:</div>

<input type="text" @bind="Cidade" style="width: 12.5%; height: 10%; left: 34%; top: 137.5%; position: absolute; background: #D9D9D9; font-size: 20px; font-family: Inter; border: 4px black solid">
<div style="width: 30%; height: 10%; left: 34%; top: 131%; position: absolute; color: black; font-size: 30px; font-family: Inter; font-weight: 167; word-wrap: break-word">Cidade:</div>

<input type="text" @bind="Localidade" style="width: 12.5%; height: 10%; left: 52.5%; top: 137.5%; position: absolute; background: #D9D9D9; font-size: 20px; font-family: Inter; border: 4px black solid">
<div style="width: 30%; height: 10%; left: 52.5%; top: 131%; position: absolute; color: black; font-size: 30px; font-family: Inter; font-weight: 167; word-wrap: break-word">Localidade:</div>

<input type="text" @bind="CodigoPostal" style="width: 12.5%; height: 10%; left: 70%; top: 137.5%; position: absolute; background: #D9D9D9; font-size: 20px; font-family: Inter; border: 4px black solid">
<div style="width: 30%; height: 10%; left: 70%; top: 131%; position: absolute; color: black; font-size: 30px; font-family: Inter; font-weight: 167; word-wrap: break-word">Código-Postal:</div>

<input type="text" @bind="Rua" style="width: 66%; height: 10%; left: 16.5%; top: 157.5%; position: absolute; background: #D9D9D9; font-size: 20px; font-family: Inter; border: 4px black solid">
<div style="width: 30%; height: 10%; left: 16.5%; top: 151%; position: absolute; color: black; font-size: 30px; font-family: Inter; font-weight: 167; word-wrap: break-word">Rua, Porta, Andar:</div>


<!--Mensagem Login e Butão-->
<div style="width: 30%; height: 10%; left: 52.5%; top: 170%; position: absolute; text-align: right"><span style="color: black; font-size: 20px; font-family: Inter; font-weight: 167; word-wrap: break-word">Já tem conta? Faça </span>
    <button onclick="window.location.href='/login'"><span style="color: black; font-size: 20px; font-family: Inter; font-weight: 167; text-decoration: underline; word-wrap: break-word">aqui</span></button>
    <span style="color: black; font-size: 20px; font-family: Inter; font-weight: 167; word-wrap: break-word"> o seu log-in.</span></div>

<button @onclick="RegisterButton">  
    <div style="width: 12.5%; height: 10%; left: 43.25%; top: 177.5%; position: absolute; background: black; border-radius: 59px"></div>
    <div style="width: 12.5%; height: 10%; left: 43.3%; top: 178.5%; position: absolute; text-align: center; color: white; font-size: 35px; font-family: Inter; font-weight: 400; word-wrap: break-word">Registar</div>
</button>



@code{
    private string? Email { get; set; }
    private string? Nome {get;set;}
    private int? Telefone { get; set; }
    private string? Rua { get; set; }
    private string? Localidade { get; set; }
    private string? Cidade { get; set; }
    private string? CodigoPostal { get; set; }
    private string? PaisResidencia { get; set; }
    private string? NIG {get;set;}
    private string? IBAN { get; set; }
    private string? PalavraPasse { get; set; }

    private async Task RegisterButton(){
        if (Email != null && Nome != null && Telefone != null && Rua != null &&
        Localidade != null && Cidade != null && CodigoPostal != null &&
        PaisResidencia != null && NIG != null && IBAN != null && PalavraPasse != null){
            Datalayer.Utilizador user = new Datalayer.Utilizador(Email,Nome,Telefone,Rua,Localidade,Cidade,CodigoPostal,
            PaisResidencia,NIG,IBAN,PalavraPasse);

            await utilizadores.PutUtilizador(user);
            NavigationManager.NavigateTo("/login", forceLoad:true);
        }else{
            NavigationManager.NavigateTo("/register", forceLoad:true);
        }
    }
}